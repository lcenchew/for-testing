!function(){"use strict";let t;class i{constructor(t=0,i=0,e={}){this.x=t,this.y=i}add(t){return new i(this.x+t.x,this.y+t.y,this)}}function e(){return new i(...arguments)}e.prototype=i.prototype,e.class=i;var s={i(){this.anchor={x:0,y:0}}},h={i(){this.position=e(),this.width=this.height=0},get x(){return this.position.x},get y(){return this.position.y},set x(t){this.position.x=t},set y(t){this.position.y=t}},r={i(){this.context=t,this._rf=this.draw},render(){let t=this.context;t.save();let i=this.x,e=this.y;if((i||e)&&t.translate(i,e),"anchor"in this){let{x:i,y:e}=this.anchor,s=-this.width*i,h=-this.height*e;(s||h)&&t.translate(s,h)}this._rf(),t.restore()},draw(){}},n={update(t){},advance(t){}};let o={set(t,i,e){t._ev.map(s=>s.call(t,i,e)),Reflect.set(t,i,e)}};class c{constructor(t){return this.init(t),new Proxy(this,o)}init(t={}){this._ev=[];let i=t.mods||[];[h,r,n,s,...i].map(t=>{let{i:i,...e}=Object.getOwnPropertyDescriptors(t);Object.defineProperties(this,e),i&&i.value.call(this)});let{render:e,...o}=t;Object.assign(this,o),this._rf=e||this.draw}}function a(){return new c(...arguments)}a.prototype=c.prototype,a.class=c;a({x:10,y:10,width:20,height:40,color:"red",render(){this.context.fillStyle="red",this.context.fillRect(0,0,this.width,this.height)}})}();